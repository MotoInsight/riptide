<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="color-scheme" content="dark" />
  <meta name="theme-color" content="#000000" />
  <title>Riptide – Embedded TesPush (2304×768)</title>
  <style>
    html, body { height: 100%; }
    html { background: #000; }
    body {
      margin: 0;
      background: #000;          /* true black */
      color: #fff;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
    }

    /* Gutters for 2331×907 viewport → main = 2304×768
       TOP = 139, RIGHT = 27, BOTTOM = 0, LEFT = 0
    */
    .top-reserved {
      position: fixed;
      top: 0; left: 0; right: 27px; height: 139px;
      display: flex; align-items: center; justify-content: center;
      padding: 0 12px;
      background: #000;
      border-bottom: 1px solid rgba(255,255,255,0.06);
      z-index: 2;
      font-variant-numeric: tabular-nums;
      letter-spacing: .3px;
    }

    .right-reserved {
      position: fixed;
      top: 0; right: 0; bottom: 0; width: 27px;
      background: #000;
      border-left: 1px solid rgba(255,255,255,0.06);
      z-index: 1;
      overflow: auto;
    }

    /* No bottom element or border */
    .main {
      position: fixed;
      top: 139px; right: 27px; bottom: 0; left: 0;
      background: #000;          /* black behind the iframe while it loads */
      z-index: 0;
    }

    .main iframe {
      position: absolute; inset: 0;
      width: 100%; height: 100%;
      border: 0;
      background: #000;          /* iframe surface fallback */
    }

    .right-reserved, .top-reserved { -webkit-user-select: none; user-select: none; }
  </style>
</head>
<body>

  <!-- Header shows total WebView viewport size -->
  <div class="top-reserved">
    <span id="vwvh" aria-live="polite">—</span>
  </div>

  <!-- Right gutter (27px) -->
  <aside class="right-reserved" aria-label="Right gutter">
    <div style="padding:6px; writing-mode:vertical-rl; transform:rotate(180deg); font-size:12px; opacity:.7;">
      27 px
    </div>
  </aside>

  <!-- Main area (iframe fills what remains after top/right gutters; no bottom padding) -->
  <main class="main" role="main" aria-label="TesPush View">
    <iframe
      src="https://tespush.com/"
      allow="autoplay; fullscreen; clipboard-read; clipboard-write"
      referrerpolicy="no-referrer"
      sandbox="allow-scripts allow-forms allow-same-origin allow-popups"
      title="TesPush"
    ></iframe>
  </main>

  <script>
    (function () {
      const vwvh = document.getElementById('vwvh');

      // Keep these in one place so CSS/JS stay in sync
      const GUTTER_TOP = 139;
      const GUTTER_RIGHT = 27;
      const GUTTER_BOTTOM = 0;

      function update() {
        // Total WebView viewport in CSS pixels
        const w = Math.round(window.innerWidth);
        const h = Math.round(window.innerHeight);
        vwvh.textContent = `${w} × ${h} px`;

        // Iframe (main area) size = viewport minus gutters
        const iframeW = Math.max(0, w - GUTTER_RIGHT);
        const iframeH = Math.max(0, h - (GUTTER_TOP + GUTTER_BOTTOM));
        // Debug in console (optional)
        console.log(`Iframe area: ${iframeW} × ${iframeH} (target 2304 × 768)`);
      }

      window.addEventListener('load', update, { passive: true });
      window.addEventListener('resize', update, { passive: true });
      window.addEventListener('orientationchange', update, { passive: true });
      if (window.visualViewport) {
        window.visualViewport.addEventListener('resize', update, { passive: true });
      }
      update();
    })();
  </script>
</body>
</html>
